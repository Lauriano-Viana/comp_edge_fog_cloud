[env:esp32dev]
; Plataforma para o ESP32
platform = espressif32
; Framework de programação
framework = arduino
; Define o modelo da placa (usando o DevKit padrão como base)
board = esp32dev
; Monitor Serial
monitor_speed = 115200

; ==========================================================
; BIBLIOTECAS DO PROJETO
; ==========================================================
lib_deps =
    ; Biblioteca para o sensor DHT22
    adafruit/DHT sensor library@^1.4.6
    
    ; Necessária para manipular dados em formato JSON (padrão para comunicação MQTT)
    bblanchon/ArduinoJson@^6.18.5
    
    ; Necessária para a comunicação MQTT (protocolo leve para IoT)
    knolleary/PubSubClient@^2.8

; ==========================================================
; CONFIGURAÇÃO DO SISTEMA DE ARQUIVOS - LITTLEFS
; ==========================================================
; *** MUDANÇA PRINCIPAL: Usar LittleFS ao invés de SPIFFS ***
; 
; LittleFS é o sistema de arquivos recomendado para ESP32 porque:
; - Mais robusto e confiável que SPIFFS
; - Melhor desempenho em operações de leitura/escrita
; - Wear leveling mais eficiente
; - Suporte nativo no ESP-IDF moderno
; - SPIFFS está deprecado e será removido em versões futuras
;
; Configuração da partição para incluir espaço para LittleFS
; A tabela 'default_8MB.csv' divide a Flash de 8MB entre:
; - Aplicação (código)
; - LittleFS (dados persistentes)
; - OTA (atualizações over-the-air)
; 
; IMPORTANTE: Para Wokwi, use a partição padrão que é mais compatível
board_build.partitions = partitions.csv
board_build.filesystem = littlefs

; ==========================================================
; OPÇÕES ADICIONAIS
; ==========================================================
; A pasta 'data' é usada para carregar arquivos iniciais para o LittleFS
; No seu caso, o arquivo é criado dinamicamente pelo código, mas a 
; estrutura é mantida para possíveis expansões futuras
data_dir = data

; ==========================================================
; NOTAS IMPORTANTES SOBRE A MIGRAÇÃO SPIFFS → LITTLEFS
; ==========================================================
; 1. O código foi atualizado para usar LittleFS.h ao invés de SPIFFS.h
; 
; 2. As principais mudanças no código:
;    - #include <SPIFFS.h> → #include <LittleFS.h>
;    - SPIFFS.begin() → LittleFS.begin()
;    - SPIFFS.open() → LittleFS.open()
;    - SPIFFS.remove() → LittleFS.remove()
;
; 3. A API é praticamente idêntica, facilitando a migração
;
; 4. LittleFS oferece:
;    ✓ Maior confiabilidade em caso de falha de energia
;    ✓ Melhor performance em operações de arquivo
;    ✓ Wear leveling automático e eficiente
;    ✓ Suporte a nomes de arquivo mais longos
;    ✓ Menor fragmentação
;
; 5. ATENÇÃO: Dados salvos em SPIFFS NÃO são compatíveis com LittleFS
;    Se você tinha dados anteriores em SPIFFS, será necessário:
;    - Fazer backup dos dados
;    - Reformatar a partição
;    - Restaurar os dados no novo formato
;
; 6. Para upload de arquivos para LittleFS via PlatformIO:
;    Execute: pio run --target uploadfs
;    (coloque os arquivos na pasta 'data/')
; ==========================================================